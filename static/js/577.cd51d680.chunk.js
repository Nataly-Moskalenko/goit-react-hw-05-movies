"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[577],{577:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(861),s=n(439),a=n(757),i=n.n(a),c=n(791),u=n(87),o=n(689),l=n(183),h="Movies_movies__QIa1b",p="Movies_form__utRLM",v="Movies_input__+JkfI",f="Movies_searchButton__cozX1",_="Movies_defaultImage__A00Fi",m="Movies_movies__list__OPKjF",d="Movies_movies__text__iyQYU",x=n(779),j=n(184);function y(){var e,t,n=(0,c.useState)([]),a=(0,s.Z)(n,2),y=a[0],b=a[1],g=(0,u.lr)(),w=(0,s.Z)(g,2),M=w[0],k=w[1],q=null!==(e=M.get("query"))&&void 0!==e?e:"",N=(0,o.TH)(),Z=(0,c.useRef)(q),S=(0,c.useState)(null!==(t=Z.current)&&void 0!==t?t:""),C=(0,s.Z)(S,2),I=C[0],P=C[1];(0,c.useEffect)((function(){function e(){return(e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.Z)("/search/movie","&query=".concat(q));case 3:t=e.sent,b(t.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}""!==q&&function(){e.apply(this,arguments)}()}),[q]);return(0,j.jsxs)("div",{className:h,children:[(0,j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target;if(""===t.elements.query.value)return k({});k({query:t.elements.query.value})},className:p,children:[(0,j.jsx)("input",{type:"text",name:"query",className:v,value:I,onChange:function(e){P(e.target.value)}}),(0,j.jsx)("button",{type:"submit",className:f,children:"Search"})]}),""!==q&&y.length>0&&(0,j.jsx)("ul",{className:m,children:y.map((function(e){return(0,j.jsx)("li",{children:(0,j.jsx)(u.rU,{to:"".concat(e.id),state:{from:N},children:e.title})},e.id)}))}),""!==q&&0===y.length&&(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{src:x,alt:"Movie poster",width:"480"}),(0,j.jsxs)("p",{children:['Oops, there are no movies with "',q,'".']}),(0,j.jsx)("p",{children:"Please enter new search query."})]}),""===q&&(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{src:x,alt:"Movie poster",width:"480",className:_}),(0,j.jsx)("p",{className:d,children:"What movies will we search?"}),(0,j.jsx)("p",{className:d,children:"Please enter your search query."})]})]})}},183:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(861),s=n(757),a=n.n(s),i=n(243),c="e1e6b0abeb0232c01b22621de6af9734",u="https://api.themoviedb.org/3";function o(e,t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("".concat(u).concat(t,"?api_key=").concat(c,"&").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},779:function(e,t,n){e.exports=n.p+"static/media/movie-597004_640.a5228f7d88bfe01b819f.jpg"}}]);
//# sourceMappingURL=577.cd51d680.chunk.js.map