"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[530],{530:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(861),s=r(439),c=r(757),i=r.n(c),a=r(791),u=r(87),o=r(689),l=r(183),p="Movies_movies__8Zx2j",h="Movies_form__5L7s0",f="Movies_input__N3yRL",d="Movies_searchButton__I-A1L",v=r(885),m=r(184);function x(){var e,t=(0,a.useState)([]),r=(0,s.Z)(t,2),c=r[0],x=r[1],_=(0,u.lr)(),y=(0,s.Z)(_,2),j=y[0],b=y[1],g=null!==(e=j.get("query"))&&void 0!==e?e:"",w=(0,o.TH)();(0,a.useEffect)((function(){function e(){return(e=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.Z)("/search/movie","&query=".concat(g));case 3:t=e.sent,x(t.results),console.log(t.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}""!==g&&function(){e.apply(this,arguments)}()}),[g]);return(0,m.jsxs)("div",{className:p,children:[(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target;if(""===t.elements.query.value)return b({});b({query:t.elements.query.value})},className:h,children:[(0,m.jsx)("input",{type:"text",name:"query",className:f}),(0,m.jsx)("button",{type:"submit",className:d,children:"Search"})]}),""!==g&&c.length>0&&(0,m.jsx)("ul",{children:c.map((function(e){return(0,m.jsx)("li",{children:(0,m.jsx)(u.rU,{to:"".concat(e.id),state:{from:w},children:e.title})},e.id)}))}),""!==g&&0===c.length&&(0,m.jsxs)("div",{children:[(0,m.jsx)("img",{src:v,alt:"Movie poster",width:"320"}),(0,m.jsx)("p",{children:"Oops, there are no movies with this search query."}),(0,m.jsx)("p",{children:"Please input new search query."})]}),""===g&&(0,m.jsxs)("div",{children:[(0,m.jsx)("img",{src:v,alt:"Movie poster",width:"320"}),(0,m.jsx)("p",{children:"Your search query is empty."}),(0,m.jsx)("p",{children:"Please input your search query."})]})]})}},183:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(861),s=r(757),c=r.n(s),i=r(243),a="e1e6b0abeb0232c01b22621de6af9734",u="https://api.themoviedb.org/3";function o(e,t){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(c().mark((function e(t,r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("".concat(u).concat(t,"?api_key=").concat(a,"&").concat(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},885:function(e,t,r){e.exports=r.p+"static/media/movie-597004_640.a5228f7d88bfe01b819f.jpg"}}]);
//# sourceMappingURL=530.cfaa598f.chunk.js.map